(()=>{var e,t,n={318:(e,t,n)=>{"use strict";n.d(t,{YF:()=>i,fJ:()=>d,r1:()=>l,wQ:()=>s,wk:()=>o});const o={wallet:null,activeTab:"squad",loading:!1,socialSort:"new",selectedAvatar:null,modalOpen:!1},r={WALLET_CHANGED:"wallet_changed",TAB_CHANGED:"tab_changed",LOADING_CHANGED:"loading_changed",SOCIAL_SORT_CHANGED:"social_sort_changed",AVATAR_SELECTED:"avatar_selected",MODAL_STATE_CHANGED:"modal_state_changed"},a={};function c(e,t){a[e]&&a[e].forEach((e=>e(t)))}function s(e){o.wallet=e,c(r.WALLET_CHANGED,e),e?.publicKey?localStorage.setItem("lastWalletAddress",e.publicKey):localStorage.removeItem("lastWalletAddress")}function i(e){o.activeTab=e,c(r.TAB_CHANGED,e);try{localStorage.setItem("lastActiveTab",e)}catch{}}function l(e){o.loading=e,c(r.LOADING_CHANGED,e)}function d(){const e=localStorage.getItem("lastWalletAddress");e&&(o.wallet={publicKey:e});const t=localStorage.getItem("lastActiveTab");t&&(o.activeTab=t)}window.state=o},350:(e,t,n)=>{"use strict";function o(e){return"string"!=typeof e||e.length<10?e:`${e.slice(0,6)}...${e.slice(-4)}`}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";const n="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",...t}).format(n)}function a(e){return e?e.includes("gpt-4")?"S":e.includes("gpt-3.5")?"A":e.includes("claude")?"B":"C":"U"}function c(e){const t={S:"bg-purple-600",A:"bg-blue-600",B:"bg-green-600",C:"bg-yellow-600",U:"bg-gray-600"};return t[a(e)]||t.U}function s(e){switch(e){case"attack":return"‚öîÔ∏è";case"defend":return"üõ°Ô∏è";case"move":return"üö∂";case"remember":return"üí≠";case"xpost":return"üê¶";case"post":return"üìù";default:return"‚ùì"}}n.d(t,{Wr:()=>o,Yb:()=>s,Yq:()=>r,f4:()=>a,s:()=>c})},409:(e,t,n)=>{"use strict";n.d(t,{EW:()=>s,Hr:()=>c});const o={NODE_ENV:window.ENV_NODE_ENV||"development",API_URL:window.ENV_API_URL||"/api",PUBLIC_URL:window.ENV_PUBLIC_URL||"",ENABLE_ANALYTICS:window.ENV_ENABLE_ANALYTICS||"false"};function r(){return o.NODE_ENV}const a=o.API_URL,c={AVATARS:`${a}/avatars`,DUNGEON:`${a}/dungeon`,SOCIAL:`${a}/social`,CLAIMS:`${a}/claims`,XAUTH:`${a}/xauth`,TRIBES:`${a}/tribes`,LEADERBOARD:`${a}/leaderboard`,COLLECTIONS:`${a}/collections`},s={TOAST_DURATION:3e3,MODAL_ANIMATION_DURATION:200,DEFAULT_PAGINATION_LIMIT:12,DEFAULT_TAB:"squad",WALLET_AUTO_CONNECT:!1};r(),r()},522:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var o=n(409);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:n="info",duration:r=o.EW.TOAST_DURATION}=t,a=document.getElementById("toast-container");if(!a)return console.log(`Toast message (no container): ${e}`),void alert(e);const c=document.createElement("div");c.className=`toast p-3 rounded shadow-lg flex items-center ${function(e){switch(e){case"success":return"bg-green-700 text-white";case"error":return"bg-red-700 text-white";case"warning":return"bg-yellow-600 text-white";default:return"bg-gray-800 text-white"}}(n)}`,c.innerHTML=`\n    ${function(e){switch(e){case"success":return'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />\n      </svg>';case"error":return'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n      </svg>';case"warning":return'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />\n      </svg>';default:return'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n      </svg>'}}(n)}\n    <span class="ml-2">${e}</span>\n  `,a.appendChild(c),setTimeout((()=>{c.parentNode===a&&c.remove()}),r)}},603:(e,t,n)=>{var o={"./actions.js":[303,303],"./collections.js":[717,717],"./leaderboard.js":[343,343],"./social.js":[977,977],"./squad.js":[662,662],"./tribes.js":[283,283]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=603,e.exports=r}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".bundle.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="cosyworld:",r.l=(n,o,a,c)=>{if(e[n])e[n].push(o);else{var s,i;if(void 0!==a)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[o];var w=(t,o)=>{s.onerror=s.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(o))),t)return t(o)},m=setTimeout(w.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=w.bind(null,s.onerror),s.onload=w.bind(null,s.onload),i&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/js/",(()=>{var e={792:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=a);var c=r.p+r.u(t),s=new Error;r.l(c,(n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+c+")",s.name="ChunkLoadError",s.type=a,s.request=c,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,a,[c,s,i]=n,l=0;if(c.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);i&&i(r)}for(t&&t(n);l<c.length;l++)a=c[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkcosyworld=self.webpackChunkcosyworld||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=r(318),t=r(522),n=r(350);async function o(){try{const e=window?.phantom?.solana;if(!e)return(0,t.P)("Please install Phantom wallet",{type:"warning"}),null;const n=await e.connect();return c(n),n}catch(e){return console.error("Wallet connection error:",e),(0,t.P)(`Wallet connection failed: ${e.message}`,{type:"error"}),null}}function a(){try{const n=window?.phantom?.solana;n&&n.disconnect&&n.disconnect(),(0,e.wQ)(null),s(),(0,t.P)("Wallet disconnected",{type:"info"}),window.loadContent&&window.loadContent()}catch(e){console.error("Wallet disconnect error:",e),(0,t.P)(`Error disconnecting wallet: ${e.message}`,{type:"error"})}}function c(o){if(!o?.publicKey)return void console.error("Invalid connection object");const r={publicKey:o.publicKey.toString(),isConnected:!0};(0,e.wQ)(r),s(),(0,t.P)(`Wallet connected: ${(0,n.Wr)(r.publicKey)}`,{type:"success"}),window.loadContent&&window.loadContent()}function s(){const e=document.querySelector(".wallet-container"),t=window.state||{};if(e)if(t.wallet&&t.wallet.publicKey){e.innerHTML=`\n      <div class="flex items-center space-x-2">\n        <span class="text-green-400 text-sm">‚óè</span>\n        <span class="text-gray-200">${(0,n.Wr)(t.wallet.publicKey)}</span>\n        <button id="wallet-disconnect-btn" class="text-gray-400 hover:text-white">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />\n          </svg>\n        </button>\n      </div>\n    `;const o=document.getElementById("wallet-disconnect-btn");o&&o.addEventListener("click",a)}else{e.innerHTML='\n      <button id="wallet-connect-btn" class="px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded transition">\n        Connect Wallet\n      </button>\n    ';const t=document.getElementById("wallet-connect-btn");t&&t.addEventListener("click",o)}}function i(e){const t=document.querySelector(".tab-indicator"),n=document.querySelector(`[data-tab="${e}"]`);if(!t||!n)return;const{top:o,height:r}=n.getBoundingClientRect(),a=document.getElementById("tab-buttons").getBoundingClientRect().top;t.style.top=o-a+"px",t.style.height=`${r}px`}async function l(){const n=document.getElementById("content");if(n){n.innerHTML='\n    <div class="p-8 flex justify-center items-center">\n      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"></div>\n    </div>\n  ',(0,e.r1)(!0);try{switch(e.wk.activeTab){case"squad":await d("squad");break;case"actions":await d("actions");break;case"leaderboard":await d("leaderboard");break;case"collections":await d("collections");break;case"tribes":await d("tribes");break;case"social":await d("social");break;default:n.innerHTML=`\n          <div class="text-center py-12 text-red-500">\n            Unknown tab: ${e.wk.activeTab}\n          </div>\n        `}}catch(e){console.error("Content load error:",e),n.innerHTML=`\n      <div class="text-center py-12 text-red-500">\n        <p>Failed to load content: ${e.message}</p>\n        <button class="mt-4 px-4 py-2 bg-primary-600 text-white rounded" onclick="loadContent()">\n          Retry\n        </button>\n      </div>\n    `,(0,t.P)(`Failed to load content: ${e.message}`,{type:"error"})}finally{(0,e.r1)(!1)}}}async function d(e){try{const t=await r(603)(`./${e}.js`);if("function"==typeof t.loadContent)await t.loadContent();else{if("function"!=typeof t[`load${u(e)}`])throw new Error(`No content loader found for tab "${e}"`);await t[`load${u(e)}`]()}}catch(t){throw console.error(`Error loading ${e} tab:`,t),t}}function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}document.addEventListener("DOMContentLoaded",(function(){console.log("Initializing CosyWorld application..."),(0,e.fJ)(),function(){const e=document.querySelector(".wallet-container");if(e&&!e.querySelector("button")){e.innerHTML='\n      <button id="wallet-connect-btn" class="px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded transition">\n        Connect Wallet\n      </button>\n    ';const t=document.getElementById("wallet-connect-btn");t&&t.addEventListener("click",o)}!function(){const e=window?.phantom?.solana;e?e.connect({onlyIfTrusted:!0}).then((e=>{e?.publicKey&&c(e)})).catch((e=>{console.warn("Auto-connect failed or not trusted:",e)})):console.log("No compatible wallet provider found for auto-connect")}(),s(),window.connectWallet=o,window.disconnectWallet=a}(),document.querySelectorAll("[data-tab]").forEach((t=>{t.addEventListener("click",(()=>{const n=t.dataset.tab;var o;(0,e.YF)(n),o=n,document.querySelectorAll("[data-tab]").forEach((e=>{const t=e.dataset.tab===o;e.classList.remove("bg-primary-600","text-white","hover:bg-surface-800","text-surface-300"),t?(e.classList.add("bg-primary-600","text-white"),e.setAttribute("aria-selected","true")):(e.classList.add("hover:bg-surface-800","text-surface-300","hover:text-white"),e.setAttribute("aria-selected","false"))})),i(o),window.loadContent&&window.loadContent()}))})),function(){const e=document.getElementById("tab-buttons"),t=document.querySelector("[data-tab][aria-selected='true']");if(!e||!t)return;let n=e.querySelector(".tab-indicator");n||(n=document.createElement("div"),n.className="tab-indicator absolute left-0 w-1 bg-primary-600 rounded-r transition-transform",e.appendChild(n)),i(t.dataset.tab)}(),window.loadContent=l,function(){const e=document.getElementById("open-mobile-nav");e&&e.addEventListener("click",(()=>{const e=document.querySelector("nav");e&&e.classList.remove("hidden")}));const t=document.getElementById("close-mobile-nav");t&&t.addEventListener("click",(()=>{const e=document.querySelector("nav");e&&e.classList.add("hidden")}))}(),function(){const e=document.getElementById("modal-container");e&&e.addEventListener("click",(t=>{t.target===e&&closeModal()}));const t=document.getElementById("avatar-modal");t&&t.addEventListener("click",(e=>{e.target===t&&closeAvatarModal()}))}(),(0,t.P)("Welcome to CosyWorld!"),window.setActiveTab=e.YF,window.setSocialSort=t=>{e.wk.socialSort=t,window.loadContent&&window.loadContent()},window.closeModal=()=>{const e=document.getElementById("modal-container");e&&e.classList.add("hidden")},window.closeAvatarModal=()=>{const e=document.getElementById("avatar-modal");e&&e.classList.add("hidden")},window.showAvatarDetails=async e=>{try{const{showAvatarDetailsModal:t}=await r.e(223).then(r.bind(r,223));t(e)}catch(e){console.error("Error loading avatar details:",e),(0,t.P)(`Error loading avatar details: ${e.message}`,{type:"error"})}},window.showTribeDetails=async e=>{try{const{showTribeDetailsContent:t}=await r.e(283).then(r.bind(r,283));t(e)}catch(e){console.error("Error loading tribe details:",e),(0,t.P)(`Error loading tribe details: ${e.message}`,{type:"error"})}},window.state=e.wk,window.loadContent&&window.loadContent()}))})()})();